[gd_scene load_steps=16 format=3 uid="uid://gcmrssgchw5p"]

[ext_resource type="PackedScene" uid="uid://dha6w8f47c6s3" path="res://scenes/house.tscn" id="1_24o0o"]
[ext_resource type="Script" path="res://scripts/main.gd" id="1_raws0"]
[ext_resource type="PackedScene" uid="uid://b7gjluyc75skl" path="res://scenes/Player.tscn" id="2_vl77y"]
[ext_resource type="PackedScene" uid="uid://6734omr4b5ty" path="res://scenes/zombie.tscn" id="3_penjs"]
[ext_resource type="PackedScene" uid="uid://c8hu0kdxgvbka" path="res://scenes/torch.tscn" id="5_wihqu"]

[sub_resource type="PhysicalSkyMaterial" id="PhysicalSkyMaterial_fcojs"]

[sub_resource type="Sky" id="Sky_cp3qg"]
sky_material = SubResource("PhysicalSkyMaterial_fcojs")

[sub_resource type="Environment" id="Environment_rmc5a"]
background_mode = 2
background_energy_multiplier = 0.2
sky = SubResource("Sky_cp3qg")

[sub_resource type="NavigationMesh" id="NavigationMesh_ymblx"]
vertices = PackedVector3Array(10.3697, 1.08413, 6.1316, 2.9697, 1.08413, 6.1316, 2.9697, 1.08413, 10.7316, 10.3697, 1.08413, 14.7316, -18.4303, 1.08413, -18.4684, -13.0303, 1.08413, -16.8684, 10.9697, 1.08413, -16.8684, 18.3697, 1.08413, -18.4684, -15.0303, 1.08413, -16.4684, -14.6303, 1.08413, -16.8684, -18.4303, 1.08413, 18.5316, -14.6303, 1.08413, 17.5316, -15.0303, 1.08413, 17.1316, -13.2303, 1.08413, 17.5316, 12.5697, 1.08413, -16.8684, 12.9697, 1.08413, -16.4684, 12.9697, 1.08413, 17.1316, 12.5697, 1.08413, 17.5316, 18.3697, 1.08413, 18.5316, -13.8303, 5.88413, -15.8684, -13.8303, 5.88413, 16.5316, 12.7697, 5.88413, 16.5316, 12.7697, 5.88413, -15.8684, -12.2303, 1.88412, -14.2684, -12.2303, 1.88412, -10.8684, -11.0303, 1.88412, -10.8684, -11.0303, 1.88412, -14.2684, -3.6303, 1.08413, -0.468399, -3.4303, 1.08413, -1.4684, -4.4303, 1.08413, -1.4684, -4.8303, 1.08413, -1.8684, -12.2303, 1.08413, -0.468399, -4.8303, 1.08413, -6.2684, -3.6303, 1.08413, -6.6684, -3.6303, 1.08413, -7.8684, -4.8303, 1.08413, -8.2684, -9.8303, 1.08413, -10.0684, -10.2303, 1.08413, -9.6684, -4.8303, 1.08413, -14.2684, -7.4303, 1.08413, -14.2684, -7.8303, 1.08413, -13.2684, -9.8303, 1.08413, -13.2684, -12.2303, 1.08413, -9.6684, -2.6303, 1.08413, -7.8684, -2.2303, 1.08413, -8.2684, 0.169701, 1.08413, -6.6684, 0.169701, 1.08413, -14.2684, -2.2303, 1.08413, -14.2684, 2.9697, 1.08413, -5.4684, 4.1697, 1.08413, -5.4684, 4.5697, 1.08413, -6.6684, 2.9697, 1.08413, -14.2684, 10.3697, 1.08413, -6.6684, 10.3697, 1.08413, -14.2684, -2.6303, 1.08413, -0.468399, -2.4303, 1.08413, -1.4684, 10.3697, 1.08413, 3.3316, 10.3697, 1.08413, 0.931601, 4.3697, 1.08413, 0.931601, 0.5697, 1.08413, 3.3316, -2.2303, 1.08413, -0.0683994, -2.0303, 1.08413, -1.8684, 4.1697, 1.08413, -4.4684, 2.9697, 1.08413, -4.4684, 2.5697, 1.08413, -4.0684, -2.0303, 1.08413, -4.0684, 4.5697, 1.08413, -4.0684, 3.9697, 1.08413, -2.4684, 4.3697, 1.08413, -2.8684, 6.3697, 1.08413, -2.8684, 10.3697, 1.08413, -4.0684, 3.9697, 1.08413, 0.531601, -2.2303, 1.08413, 1.9316, -2.8303, 1.08413, 2.3316, 0.169701, 1.08413, 3.9316, 6.7697, 1.08413, -1.6684, 10.3697, 1.08413, -1.6684, -13.6303, 1.08413, 0.531601, -13.6303, 1.08413, 1.3316, -13.2303, 1.08413, 1.1316, 1.5697, 1.08413, 14.7316, 1.5697, 1.08413, 11.1316, 0.5697, 1.08413, 11.1316, 0.169701, 1.08413, 10.7316, -12.2303, 1.08413, 14.7316, -12.2303, 1.08413, 2.3316, 2.5697, 1.08413, 11.1316, 11.1697, 1.08413, 17.5316)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 7), PackedInt32Array(4, 9, 8), PackedInt32Array(12, 11, 10), PackedInt32Array(12, 10, 8), PackedInt32Array(8, 10, 4), PackedInt32Array(10, 11, 13), PackedInt32Array(7, 14, 6), PackedInt32Array(9, 4, 5), PackedInt32Array(15, 14, 7), PackedInt32Array(18, 17, 16), PackedInt32Array(16, 15, 18), PackedInt32Array(18, 15, 7), PackedInt32Array(22, 21, 19), PackedInt32Array(19, 21, 20), PackedInt32Array(26, 25, 23), PackedInt32Array(23, 25, 24), PackedInt32Array(29, 28, 27), PackedInt32Array(29, 27, 30), PackedInt32Array(30, 27, 31), PackedInt32Array(33, 32, 34), PackedInt32Array(34, 32, 35), PackedInt32Array(36, 35, 37), PackedInt32Array(37, 35, 32), PackedInt32Array(40, 39, 38), PackedInt32Array(36, 41, 40), PackedInt32Array(40, 38, 36), PackedInt32Array(36, 38, 35), PackedInt32Array(37, 32, 42), PackedInt32Array(42, 32, 30), PackedInt32Array(42, 30, 31), PackedInt32Array(33, 34, 43), PackedInt32Array(43, 44, 33), PackedInt32Array(33, 44, 45), PackedInt32Array(47, 46, 44), PackedInt32Array(44, 46, 45), PackedInt32Array(49, 48, 50), PackedInt32Array(50, 48, 51), PackedInt32Array(52, 50, 53), PackedInt32Array(53, 50, 51), PackedInt32Array(55, 54, 28), PackedInt32Array(28, 54, 27), PackedInt32Array(57, 56, 58), PackedInt32Array(58, 56, 59), PackedInt32Array(54, 55, 60), PackedInt32Array(60, 55, 61), PackedInt32Array(63, 48, 62), PackedInt32Array(62, 48, 49), PackedInt32Array(61, 65, 64), PackedInt32Array(66, 68, 62), PackedInt32Array(62, 68, 67), PackedInt32Array(62, 67, 63), PackedInt32Array(63, 67, 64), PackedInt32Array(68, 66, 69), PackedInt32Array(69, 66, 70), PackedInt32Array(67, 71, 64), PackedInt32Array(64, 71, 61), PackedInt32Array(61, 71, 72), PackedInt32Array(72, 71, 59), PackedInt32Array(59, 74, 72), PackedInt32Array(72, 74, 73), PackedInt32Array(71, 58, 59), PackedInt32Array(72, 60, 61), PackedInt32Array(75, 69, 76), PackedInt32Array(76, 69, 70), PackedInt32Array(77, 79, 78), PackedInt32Array(82, 81, 80), PackedInt32Array(83, 82, 80), PackedInt32Array(73, 74, 83), PackedInt32Array(83, 80, 73), PackedInt32Array(73, 80, 85), PackedInt32Array(85, 80, 84), PackedInt32Array(80, 81, 86), PackedInt32Array(86, 2, 80), PackedInt32Array(80, 2, 3), PackedInt32Array(87, 17, 18), PackedInt32Array(13, 87, 10), PackedInt32Array(10, 87, 18)]
cell_size = 0.2
cell_height = 0.2
border_size = 1.0

[sub_resource type="BoxMesh" id="BoxMesh_b5bnu"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_kbvsm"]
albedo_color = Color(0.122116, 0.39535, 0.396872, 1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_iil5n"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="BoxMesh" id="BoxMesh_y67en"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_7tb28"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="BoxShape3D" id="BoxShape3D_r1ui3"]
size = Vector3(0.44577, 3.77834, 2.5105)

[node name="Main" type="Node3D"]
script = ExtResource("1_raws0")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_rmc5a")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.651344, 0.758783, 0, -0.758783, -0.651344, 0, 25.3027, 18.1813)
light_color = Color(0, 0, 0, 1)
shadow_enabled = true

[node name="Player" parent="." instance=ExtResource("2_vl77y")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.20985, 2.21647, -10.7092)

[node name="Zombie" parent="." instance=ExtResource("3_penjs")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0.14357, 1.78197, -12.9841)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_ymblx")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(38.8606, 0, 0, 0, 1.43175, 0, 0, 0, 38.9368, 0, 0, 0)
mesh = SubResource("BoxMesh_b5bnu")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_kbvsm")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/MeshInstance3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/MeshInstance3D/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_iil5n")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(27.7342, 0, 0, 0, 0.967827, 0, 0, 0, 33.3566, -0.523473, 5.04035, 0.2609)
mesh = SubResource("BoxMesh_b5bnu")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_kbvsm")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/MeshInstance3D2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/MeshInstance3D2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_iil5n")

[node name="table" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(1.74876, 0, 0, 0, 1, 0, 0, 0, 1, -8.98035, 1.21612, -14.4041)
mesh = SubResource("BoxMesh_y67en")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/table"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/table/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_7tb28")

[node name="bed" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(2.24414, 0, 0, 0, 0.817611, 0, 0, 0, 4.59006, -11.6835, 1.14119, -12.5696)
mesh = SubResource("BoxMesh_y67en")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/bed"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/bed/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_7tb28")

[node name="house" parent="NavigationRegion3D" instance=ExtResource("1_24o0o")]
transform = Transform3D(1.26721, 0, 0, 0, 1.26721, 0, 0, 0, 1.26721, -14.2648, 0.709611, -16.1835)

[node name="ZombieStartChasingArea" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.51244, 2.25508, -0.706033)

[node name="CollisionShape3D" type="CollisionShape3D" parent="ZombieStartChasingArea"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.077713, 0.349205, -0.264038)
shape = SubResource("BoxShape3D_r1ui3")

[node name="torch" parent="." instance=ExtResource("5_wihqu")]
transform = Transform3D(-0.517355, 0, 0.855771, 0, 1, 0, -0.855771, 0, -0.517355, -9.37018, 1.81656, -14.6034)

[connection signal="body_entered" from="ZombieStartChasingArea" to="." method="_on_zombie_start_chasing_area_body_entered"]
